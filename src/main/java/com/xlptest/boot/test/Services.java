package com.xlptest.boot.test;import java.util.HashMap;import java.util.Map;public class Services {    private static final Map<String, Provider> servicesMap = new HashMap<>();    public interface Service {        public String hello();    }    public interface Provider {        Service newService();    }    public static void registerService(String name, Provider service) {        servicesMap.put(name, service);    }    public static Service getService(String name) {        return servicesMap.get(name).newService();    }    public static class UserService implements Provider {        @Override        public Service newService() {            return new UserServiceImpl();        }    }    public static class UserServiceImpl implements Service {        @Override        public String hello() {            return "i am user";        }    }    public static class OrderServiceImpl implements Service {        @Override        public String hello() {            return "i an order";        }    }    public static class OrderService implements Provider {        @Override        public Service newService() {            return new OrderServiceImpl();        }    }    public static void main(String[] args) {        registerService("user", new UserService());        registerService("order", new OrderService());        Service service = getService("order");        System.out.println(service.hello());    }}